<div class="container-fluid">
  <div class="row bg-light mb-4">
    <div class="col-12 text-center py-3">
      <div class="display-4">Histórico de Buscas</div>
      <a href="javascript:;" routerLink="/home" class="btn btn-link">Home</a>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="row" *ngIf="researches$ | async as researches">
    <table class="table table-hover col-lg-10 col-12 mx-auto">
      <thead class="thead-primary">
      <tr>
        <th width="20">Ip Address</th>
        <th width="15%">Site</th>
        <th width="15%">Tipo</th>
        <th width="30%">Chave</th>
        <th width="20%"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let researche of researches">
        <td>{{researche.ip_address}}</td>
        <td>{{researche.site === 'ml' ? 'Mercado Livre' : 'Buscapé'}}</td>
        <td>{{researche.type === 'cat' ? 'Categoria' : 'Query'}}</td>
        <td>{{researche.query}}</td>
        <td>
          <a href="javascript:;" class="btn btn-link" [routerLink]="['/result', researche.id]">Ver Resultado</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <app-loading *ngIf="loading"></app-loading>
</div>
